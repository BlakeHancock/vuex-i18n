!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.vuexI18n=e()}(this,function(){"use strict";function t(t){return!!t&&Array===t.constructor}function e(t){return!!t&&Array===t.constructor}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o={state:{locale:null,fallback:null,translations:{}},mutations:{SET_LOCALE:function t(e,n){e.locale=n.locale},ADD_LOCALE:function t(e,n){var o=a(n.translations);e.translations[n.locale]=o},REMOVE_LOCALE:function t(e,n){if(e.translations.hasOwnProperty(n.locale)){e.locale===n.locale&&(e.locale=null);var o=Object.assign({},e.translations);delete o[n.locale],e.translations=o}},SET_FALLBACK_LOCALE:function t(e,n){e.fallback=n.locale}},actions:{setLocale:function t(e,n){e.commit({type:"SET_LOCALE",locale:n.locale})},addLocale:function t(e,n){e.commit({type:"ADD_LOCALE",locale:n.locale,translations:n.translations})},removeLocale:function t(e,n){e.commit({type:"REMOVE_LOCALE",locale:n.locale,translations:n.translations})},setFallbackLocale:function t(e,n){e.commit({type:"SET_FALLBACK_LOCALE",locale:n.locale})}}},a=function e(o){var a={};for(var l in o)if(o.hasOwnProperty(l)){var r=n(o[l]);if(t(o[l])){for(var c=o[l].length,i=0;i<c;i++){var s=n(o[l][i]);if("string"!==s){console.warn("vuex-i18n:","currently only arrays of strings are fully supported",o[l]);break}}a[l]=o[l]}else if("object"==r&&null!==r){var u=e(o[l]);for(var f in u)u.hasOwnProperty(f)&&(a[l+"."+f]=u[f])}else a[l]=o[l]}return a},l={};l.install=function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"i18n";if(n.state.hasOwnProperty(o)===!1)return console.error("i18n vuex module is not correctly initialized. Please check the module name:",o),e.prototype.$i18n=function(t){return t},e.prototype.$getLanguage=function(){return null},void(e.prototype.$setLanguage=function(){console.error("i18n vuex module is not correctly initialized")});var a=function t(e,a,r){var c=n.state[o].locale;return l(c,e,a,r)},l=function t(e,a,l,r){var i=n.state[o].fallback,s=n.state[o].translations,u=!0;return s.hasOwnProperty(e)===!1?u=!1:s[e].hasOwnProperty(a)===!1&&(u=!1),u===!1?s.hasOwnProperty(i)===!1?c(a,l,r):s[i].hasOwnProperty(a)===!1?c(a,l,r):c(s[i][a],l,r):c(s[e][a],l,r)},r=function t(e){n.dispatch({type:"setFallbackLocale",locale:e})},i=function t(e){n.dispatch({type:"setLocale",locale:e})},s=function t(){return n.state[o].locale},u=function t(e,o){return n.dispatch({type:"addLocale",locale:e,translations:o})},f=function t(e){n.state[o].translations.hasOwnProperty(e)&&n.dispatch({type:"removeLocale",locale:e})},p=function t(e){return n.state[o].translations.hasOwnProperty(e)};e.prototype.$i18n={locale:s,set:i,add:u,remove:f,fallback:r,exists:p},e.i18n={locale:s,set:i,add:u,remove:f,fallback:r,exists:p,translate:a,translateIn:l},e.prototype.$t=a,e.prototype.$tlang=l,e.filter("translate",a)};var r=function t(e,n){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.replace?e.replace(/\{\w+\}/g,function(t){var a=t.replace("{","").replace("}","");return void 0!==n[a]?n[a]:(o===!0&&(console.group("Not all placeholder founds"),console.warn("Text:",e),console.warn("Placeholder:",t),console.groupEnd()),t)}):e},c=function t(o){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c="undefined"==typeof o?"undefined":n(o),i=function t(){return e(o)?o.map(function(t){return r(t,a,!1)}):"string"===c?r(o,a):void 0};return null!==l?1==l?i().split(":::")[0].trim():i().split(":::")[1].trim():i()},i={store:o,plugin:l};return i});